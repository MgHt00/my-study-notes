When Node.js can't find a module, it searches for it in the `node_modules` folder, starting from the current directory and moving up through parent directories until it reaches the root. The book's description is correct. The reason it might not be working for you is likely a misunderstanding of how Node.js finds modules, or a mistake in your file path.

---

### How Module Resolution Works

When you use `require('my-module')`, Node.js follows a specific algorithm to find the module:

1.  **Built-in Modules**: It first checks if `my-module` is a core Node.js module (like `fs` or `http`). If it is, it loads it.
2.  **Relative Path**: If `my-module` begins with `./` or `../`, Node.js treats it as a file path and looks for it at that location relative to your current file.
3.  **`node_modules` Folders**: If it's not a core or relative module, Node.js starts looking for a folder named `node_modules`.
    * It checks the `node_modules` folder in your current directory.
    * If it's not there, it checks the `node_modules` folder in the parent directory.
    * It continues this process all the way up to the root directory.

If you are using a module that is not published on npm and is not a core module, you should use a **relative path** to load it, like `require('./my-module.js')`. This is the most reliable method for your own modules.

---

### Why It's Bad Practice

It is considered bad practice to put your own modules in the `node_modules` folder because:

* **Version Control**: You shouldn't check `node_modules` into your version control system (like Git). Anyone else who clones your project will need to re-install all the dependencies, and they will not get your custom module.
* **Dependency Management**: `node_modules` is meant to be a managed directory for third-party packages installed via `npm`. Manually adding your own files there breaks this system and can cause conflicts.
* **Clarity and Readability**: It's confusing for other developers on your team (and yourself in the future) to know which files are third-party libraries and which are part of your own codebase.

Instead of putting your own modules in `node_modules`, you should keep them in a directory within your project (e.g., a `lib` or `utils` folder) and use **relative paths** to import them.

No, if your module `server.mjs` is in the `node_modules` folder, you would not use `./` or `../`. Node.js will find it as a third-party package.

### How Node.js Finds Your Module

When you use `require()` or `import` in Node.js, the way you write the path determines how Node.js looks for the module.

* **Relative Path**: When you use a path that starts with `./` (for a file in the same directory) or `../` (for a file in a parent directory), Node.js looks for that file relative to your current file. For example, `import server from './server.mjs'`.
* **Third-Party Module**: When you just use the module name (e.g., `require('server')`), Node.js assumes it's a third-party module and looks for a folder with that name inside the `node_modules` folder.

So, if you placed `server.mjs` inside a folder named `server` within `node_modules`, you could import it just by its name, like `import server from 'server'`. However, as discussed before, this is considered a bad practice.

**The recommended practice is to keep your custom modules outside of the `node_modules` folder and use relative paths to import them.**
